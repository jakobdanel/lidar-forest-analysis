<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>docs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="lfa_capitalize_first_char" class="level3">
<h3 class="anchored" data-anchor-id="lfa_capitalize_first_char"><code>lfa_capitalize_first_char</code></h3>
<p>Capitalize First Character of a String</p>
<section id="arguments" class="level4">
<h4 class="anchored" data-anchor-id="arguments">Arguments</h4>
<table class="table">
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>input_string</code></td>
<td>A single-character string to be processed.</td>
</tr>
</tbody>
</table>
</section>
<section id="concept" class="level4">
<h4 class="anchored" data-anchor-id="concept">Concept</h4>
<p>String Manipulation</p>
</section>
<section id="description" class="level4">
<h4 class="anchored" data-anchor-id="description">Description</h4>
<p>This function takes a string as input and returns the same string with the first character capitalized. If the first character is already capitalized, the function does nothing. If the first character is not from the alphabet, an error is thrown.</p>
</section>
<section id="details" class="level4">
<h4 class="anchored" data-anchor-id="details">Details</h4>
<p>This function performs the following steps:</p>
<ul>
<li><p>Checks if the input is a single-character string.</p></li>
<li><p>Verifies if the first character is from the alphabet (A-Z or a-z).</p></li>
<li><p>If the first character is not already capitalized, it capitalizes it.</p></li>
<li><p>Returns the modified string.</p></li>
</ul>
</section>
<section id="keyword" class="level4">
<h4 class="anchored" data-anchor-id="keyword">Keyword</h4>
<p>alphabet</p>
</section>
<section id="note" class="level4">
<h4 class="anchored" data-anchor-id="note">Note</h4>
<p>This function is case-sensitive and assumes ASCII characters.</p>
</section>
<section id="references" class="level4">
<h4 class="anchored" data-anchor-id="references">References</h4>
<p>None</p>
</section>
<section id="seealso" class="level4">
<h4 class="anchored" data-anchor-id="seealso">Seealso</h4>
<p>This function is related to the basic string manipulation functions in base R.</p>
</section>
<section id="value" class="level4">
<h4 class="anchored" data-anchor-id="value">Value</h4>
<p>A modified string with the first character capitalized if it is not already. If the first character is already capitalized, the original string is returned.</p>
</section>
<section id="examples" class="level4">
<h4 class="anchored" data-anchor-id="examples">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Capitalize the first character of a string</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">capitalize_first_char</span>(<span class="st">"hello"</span>) <span class="co"># Returns "Hello"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">capitalize_first_char</span>(<span class="st">"World"</span>) <span class="co"># Returns "World"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Error example (non-alphabetic first character)</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">capitalize_first_char</span>(<span class="st">"123abc"</span>) <span class="co"># Throws an error</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage" class="level4">
<h4 class="anchored" data-anchor-id="usage">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_capitalize_first_char</span>(input_string)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_check_flag" class="level3">
<h3 class="anchored" data-anchor-id="lfa_check_flag"><code>lfa_check_flag</code></h3>
<p>Check if a flag is set, indicating the completion of a specific process.</p>
<section id="arguments-1" class="level4">
<h4 class="anchored" data-anchor-id="arguments-1">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>flag_name</code></td>
<td>A character string specifying the name of the flag file. It should be a descriptive and unique identifier for the process being checked.</td>
</tr>
</tbody>
</table>
</section>
<section id="description-1" class="level4">
<h4 class="anchored" data-anchor-id="description-1">Description</h4>
<p>This function checks for the existence of a hidden flag file at a specified location within the working directory. If the flag file is found, a message is printed, and the function returns <code>TRUE</code> to indicate that the associated processing step has already been completed. If the flag file is not found, the function returns <code>FALSE</code> , indicating that further processing can proceed.</p>
</section>
<section id="value-1" class="level4">
<h4 class="anchored" data-anchor-id="value-1">Value</h4>
<p>A logical value indicating whether the flag is set ( <code>TRUE</code> ) or not ( <code>FALSE</code> ).</p>
</section>
<section id="examples-1" class="level4">
<h4 class="anchored" data-anchor-id="examples-1">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if the flag for a process named "data_processing" is set</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_check_flag</span>(<span class="st">"data_processing"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-1" class="level4">
<h4 class="anchored" data-anchor-id="usage-1">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_check_flag</span>(flag_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_create_tile_location_objects" class="level3">
<h3 class="anchored" data-anchor-id="lfa_create_tile_location_objects"><code>lfa_create_tile_location_objects</code></h3>
<p>Create tile location objects</p>
<section id="author" class="level4">
<h4 class="anchored" data-anchor-id="author">Author</h4>
<p>Jakob Danel</p>
</section>
<section id="description-2" class="level4">
<h4 class="anchored" data-anchor-id="description-2">Description</h4>
<p>This function traverses a directory structure to find LAZ files and creates tile location objects for each file. The function looks into the the <code>data</code> directory of the repository/working directory. It then creates <code>tile_location</code> objects based on the folder structure. The folder structure should not be touched by hand, but created by <code>lfa_init_data_structure()</code> which builds the structure based on a shape file.</p>
</section>
<section id="seealso-1" class="level4">
<h4 class="anchored" data-anchor-id="seealso-1">Seealso</h4>
<p><a href="#tilelocation"><code>tile_location</code></a></p>
</section>
<section id="value-2" class="level4">
<h4 class="anchored" data-anchor-id="value-2">Value</h4>
<p>A vector containing tile location objects.</p>
</section>
<section id="examples-2" class="level4">
<h4 class="anchored" data-anchor-id="examples-2">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_create_tile_location_objects</span>()</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_create_tile_location_objects</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-2" class="level4">
<h4 class="anchored" data-anchor-id="usage-2">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_create_tile_location_objects</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_detection" class="level3">
<h3 class="anchored" data-anchor-id="lfa_detection"><code>lfa_detection</code></h3>
<p>Perform tree detection on a lidar catalog and optionally save the results to a file.</p>
<section id="arguments-2" class="level4">
<h4 class="anchored" data-anchor-id="arguments-2">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>catalog</code></td>
<td>A lidar catalog containing point cloud data. If set to NULL, the function attempts to read the catalog from the specified tile location.</td>
</tr>
<tr class="even">
<td><code>tile_location</code></td>
<td>An object specifying the location of the lidar tile. If catalog is NULL, the function attempts to read the catalog from this tile location.</td>
</tr>
<tr class="odd">
<td><code>write_to_file</code></td>
<td>A logical value indicating whether to save the detected tree information to a file. Default is TRUE.</td>
</tr>
</tbody>
</table>
</section>
<section id="description-3" class="level4">
<h4 class="anchored" data-anchor-id="description-3">Description</h4>
<p>This function utilizes lidar data to detect trees within a specified catalog. The detected tree information can be optionally saved to a file in the GeoPackage format. The function uses parallel processing to enhance efficiency.</p>
</section>
<section id="value-3" class="level4">
<h4 class="anchored" data-anchor-id="value-3">Value</h4>
<p>A sf style data frame containing information about the detected trees.</p>
</section>
<section id="examples-3" class="level4">
<h4 class="anchored" data-anchor-id="examples-3">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform tree detection on a catalog and save the results to a file</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_detection</span>(<span class="at">catalog =</span> my_catalog, <span class="at">tile_location =</span> my_tile_location, <span class="at">write_to_file =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-3" class="level4">
<h4 class="anchored" data-anchor-id="usage-3">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_detection</span>(catalog, tile_location, <span class="at">write_to_file =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_download_areas" class="level3">
<h3 class="anchored" data-anchor-id="lfa_download_areas"><code>lfa_download_areas</code></h3>
<p>Download areas based on spatial features</p>
<section id="arguments-3" class="level4">
<h4 class="anchored" data-anchor-id="arguments-3">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>sf_areas</code></td>
<td>Spatial features representing areas to be downloaded. It must include columns like “species” “name” See details for more information.</td>
</tr>
</tbody>
</table>
</section>
<section id="author-1" class="level4">
<h4 class="anchored" data-anchor-id="author-1">Author</h4>
<p>Jakob Danel</p>
</section>
<section id="description-4" class="level4">
<h4 class="anchored" data-anchor-id="description-4">Description</h4>
<p>This function initiates the data structure and downloads areas based on spatial features.</p>
</section>
<section id="details-1" class="level4">
<h4 class="anchored" data-anchor-id="details-1">Details</h4>
<p>The input data frame, <code>sf_areas</code> , must have the following columns:</p>
<ul>
<li><p>“species”: The species associated with the area.</p></li>
<li><p>“name”: The name of the area.</p></li>
</ul>
<p>The function uses the <code>lfa_init_data_structure</code> function to set up the data structure and then iterates through the rows of <code>sf_areas</code> to download each specified area.</p>
</section>
<section id="value-4" class="level4">
<h4 class="anchored" data-anchor-id="value-4">Value</h4>
<p>None</p>
</section>
<section id="examples-4" class="level4">
<h4 class="anchored" data-anchor-id="examples-4">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_download_areas</span>(sf_areas)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Example spatial features data frame</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>sf_areas <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="at">species =</span> <span class="fu">c</span>(<span class="st">"SpeciesA"</span>, <span class="st">"SpeciesB"</span>),</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Area1"</span>, <span class="st">"Area2"</span>),</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Must include also other attributes specialized to sf objects</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># such as geometry, for processing of the download</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_download_areas</span>(sf_areas)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-4" class="level4">
<h4 class="anchored" data-anchor-id="usage-4">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_download_areas</span>(sf_areas)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_download" class="level3">
<h3 class="anchored" data-anchor-id="lfa_download"><code>lfa_download</code></h3>
<p>Download an las file from the state NRW from a specific location</p>
<section id="arguments-4" class="level4">
<h4 class="anchored" data-anchor-id="arguments-4">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>species</code></td>
<td>The species of the tree which is observed at this location</td>
</tr>
<tr class="even">
<td><code>name</code></td>
<td>The name of the area that is observed</td>
</tr>
<tr class="odd">
<td><code>location</code></td>
<td>An sf object, which holds the location information for the area where the tile should be downloaded from.</td>
</tr>
</tbody>
</table>
</section>
<section id="description-5" class="level4">
<h4 class="anchored" data-anchor-id="description-5">Description</h4>
<p>It will download the file and save it to data/ list(list(“html”), list(list(“<species>”))) / list(list(“html”), list(list(“<name>”))) with the name of the tile</name></species></p>
</section>
<section id="value-5" class="level4">
<h4 class="anchored" data-anchor-id="value-5">Value</h4>
<p>The LASCatalog object of the downloaded file</p>
</section>
<section id="usage-5" class="level4">
<h4 class="anchored" data-anchor-id="usage-5">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_download</span>(species, name, location)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_get_detection_area" class="level3">
<h3 class="anchored" data-anchor-id="lfa_get_detection_area"><code>lfa_get_detection_area</code></h3>
<p>Get Detection for an area</p>
<section id="arguments-5" class="level4">
<h4 class="anchored" data-anchor-id="arguments-5">Arguments</h4>
<table class="table">
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>species</code></td>
<td>A character string specifying the target species.</td>
</tr>
<tr class="even">
<td><code>name</code></td>
<td>A character string specifying the name of the tile.</td>
</tr>
</tbody>
</table>
</section>
<section id="description-6" class="level4">
<h4 class="anchored" data-anchor-id="description-6">Description</h4>
<p>Retrieves the tree detection information for a specified species and tile.</p>
</section>
<section id="details-2" class="level4">
<h4 class="anchored" data-anchor-id="details-2">Details</h4>
<p>This function reads tree detection data from geopackage files within the specified tile location for a given species. It then combines the data into a single SF data frame and returns it. The function assumes that the tree detection files follow a naming convention with the pattern “_detection.gpkg”.</p>
</section>
<section id="keyword-1" class="level4">
<h4 class="anchored" data-anchor-id="keyword-1">Keyword</h4>
<p>spatial</p>
</section>
<section id="references-1" class="level4">
<h4 class="anchored" data-anchor-id="references-1">References</h4>
<p>This function is part of the LiDAR Forest Analysis (LFA) package.</p>
</section>
<section id="seealso-2" class="level4">
<h4 class="anchored" data-anchor-id="seealso-2">Seealso</h4>
<p><a href="#gettiledir"><code>get_tile_dir</code></a></p>
</section>
<section id="value-6" class="level4">
<h4 class="anchored" data-anchor-id="value-6">Value</h4>
<p>A Simple Features (SF) data frame containing tree detection information for the specified species and tile.</p>
</section>
<section id="examples-5" class="level4">
<h4 class="anchored" data-anchor-id="examples-5">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve tree detection data for species "example_species" in tile "example_tile"</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>trees_data <span class="ot">&lt;-</span> <span class="fu">lfa_get_detection_tile_location</span>(<span class="st">"example_species"</span>, <span class="st">"example_tile"</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage:</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>trees_data <span class="ot">&lt;-</span> <span class="fu">lfa_get_detection_tile_location</span>(<span class="st">"example_species"</span>, <span class="st">"example_tile"</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># No trees found scenario:</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>empty_data <span class="ot">&lt;-</span> <span class="fu">lfa_get_detection_tile_location</span>(<span class="st">"nonexistent_species"</span>, <span class="st">"nonexistent_tile"</span>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># The result will be an empty data frame if no trees are found for the specified species and tile.</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Error handling:</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co"># In case of invalid inputs, the function may throw errors. Ensure correct species and tile names are provided.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-6" class="level4">
<h4 class="anchored" data-anchor-id="usage-6">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_get_detection_area</span>(species, name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_get_detections_species" class="level3">
<h3 class="anchored" data-anchor-id="lfa_get_detections_species"><code>lfa_get_detections_species</code></h3>
<p>Retrieve detections for a specific species.</p>
<section id="arguments-6" class="level4">
<h4 class="anchored" data-anchor-id="arguments-6">Arguments</h4>
<table class="table">
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>species</code></td>
<td>A character string specifying the target species.</td>
</tr>
</tbody>
</table>
</section>
<section id="description-7" class="level4">
<h4 class="anchored" data-anchor-id="description-7">Description</h4>
<p>This function retrieves detection data for a given species from multiple areas.</p>
</section>
<section id="details-3" class="level4">
<h4 class="anchored" data-anchor-id="details-3">Details</h4>
<p>The function looks for detection data in the “data” directory for the specified species. It then iterates through each subdirectory (representing different areas) and consolidates the detection data into a single data frame.</p>
</section>
<section id="value-7" class="level4">
<h4 class="anchored" data-anchor-id="value-7">Value</h4>
<p>A data frame containing detection information for the specified species in different areas.</p>
</section>
<section id="examples-6" class="level4">
<h4 class="anchored" data-anchor-id="examples-6">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage:</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>detections_data <span class="ot">&lt;-</span> <span class="fu">lfa_get_detections_species</span>(<span class="st">"example_species"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-7" class="level4">
<h4 class="anchored" data-anchor-id="usage-7">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_get_detections_species</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_get_detections" class="level3">
<h3 class="anchored" data-anchor-id="lfa_get_detections"><code>lfa_get_detections</code></h3>
<p>Retrieve aggregated detection data for multiple species.</p>
<section id="concept-1" class="level4">
<h4 class="anchored" data-anchor-id="concept-1">Concept</h4>
<p>data retrieval functions</p>
</section>
<section id="description-8" class="level4">
<h4 class="anchored" data-anchor-id="description-8">Description</h4>
<p>This function obtains aggregated detection data for multiple species by iterating through the list of species obtained from <a href="#lfagetspecies"><code>lfa_get_species</code></a> . For each species, it calls <a href="#lfagetdetectionsspecies"><code>lfa_get_detections_species</code></a> to retrieve the corresponding detection data and aggregates the results into a single data frame. The resulting data frame includes columns for the species, tree detection data, and the area in which the detections occurred.</p>
</section>
<section id="keyword-2" class="level4">
<h4 class="anchored" data-anchor-id="keyword-2">Keyword</h4>
<p>aggregation</p>
</section>
<section id="seealso-3" class="level4">
<h4 class="anchored" data-anchor-id="seealso-3">Seealso</h4>
<p><a href="#lfagetspecies"><code>lfa_get_species</code></a> , <a href="#lfagetdetectionsspecies"><code>lfa_get_detections_species</code></a></p>
<p>Other data retrieval functions: <a href="#lfagetspecies"><code>lfa_get_species</code></a></p>
</section>
<section id="value-8" class="level4">
<h4 class="anchored" data-anchor-id="value-8">Value</h4>
<p>A data frame containing aggregated detection data for multiple species.</p>
</section>
<section id="examples-7" class="level4">
<h4 class="anchored" data-anchor-id="examples-7">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_get_detections</span>()</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve aggregated detection data for multiple species</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>detections_data <span class="ot">&lt;-</span> <span class="fu">lfa_get_detections</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-8" class="level4">
<h4 class="anchored" data-anchor-id="usage-8">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_get_detections</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_get_flag_path" class="level3">
<h3 class="anchored" data-anchor-id="lfa_get_flag_path"><code>lfa_get_flag_path</code></h3>
<p>Get the path to a flag file indicating the completion of a specific process.</p>
<section id="arguments-7" class="level4">
<h4 class="anchored" data-anchor-id="arguments-7">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>flag_name</code></td>
<td>A character string specifying the name of the flag file. It should be a descriptive and unique identifier for the process being flagged.</td>
</tr>
</tbody>
</table>
</section>
<section id="description-9" class="level4">
<h4 class="anchored" data-anchor-id="description-9">Description</h4>
<p>This function constructs and returns the path to a hidden flag file, which serves as an indicator that a particular processing step has been completed. The flag file is created in a designated location within the working directory.</p>
</section>
<section id="value-9" class="level4">
<h4 class="anchored" data-anchor-id="value-9">Value</h4>
<p>A character string representing the absolute path to the hidden flag file.</p>
</section>
<section id="examples-8" class="level4">
<h4 class="anchored" data-anchor-id="examples-8">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the flag path for a process named "data_processing"</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_get_flag_path</span>(<span class="st">"data_processing"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-9" class="level4">
<h4 class="anchored" data-anchor-id="usage-9">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_get_flag_path</span>(flag_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_get_species" class="level3">
<h3 class="anchored" data-anchor-id="lfa_get_species"><code>lfa_get_species</code></h3>
<p>Get a list of species from the data directory.</p>
<section id="concept-2" class="level4">
<h4 class="anchored" data-anchor-id="concept-2">Concept</h4>
<p>data retrieval functions</p>
</section>
<section id="description-10" class="level4">
<h4 class="anchored" data-anchor-id="description-10">Description</h4>
<p>This function retrieves a list of species by scanning the “data” directory located in the current working directory.</p>
</section>
<section id="keyword-3" class="level4">
<h4 class="anchored" data-anchor-id="keyword-3">Keyword</h4>
<p>data</p>
</section>
<section id="references-2" class="level4">
<h4 class="anchored" data-anchor-id="references-2">References</h4>
<p>This function relies on the <a href="#list.dirs"><code>list.dirs</code></a> function for directory listing.</p>
</section>
<section id="seealso-4" class="level4">
<h4 class="anchored" data-anchor-id="seealso-4">Seealso</h4>
<p><a href="#list.dirs"><code>list.dirs</code></a></p>
<p>Other data retrieval functions: <a href="#lfagetdetections"><code>lfa_get_detections</code></a></p>
</section>
<section id="value-10" class="level4">
<h4 class="anchored" data-anchor-id="value-10">Value</h4>
<p>A character vector containing the names of species found in the “data” directory.</p>
</section>
<section id="examples-9" class="level4">
<h4 class="anchored" data-anchor-id="examples-9">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve the list of species</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>species_list <span class="ot">&lt;-</span> <span class="fu">lfa_get_species</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-10" class="level4">
<h4 class="anchored" data-anchor-id="usage-10">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_get_species</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_ground_correction" class="level3">
<h3 class="anchored" data-anchor-id="lfa_ground_correction"><code>lfa_ground_correction</code></h3>
<p>Correct the point clouds for correct ground imagery</p>
<section id="arguments-8" class="level4">
<h4 class="anchored" data-anchor-id="arguments-8">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ctg</code></td>
<td>An LASCatalog object. If not null, it will perform the actions on this object, if NULL inferring the catalog from the tile_location</td>
</tr>
<tr class="even">
<td><code>tile_location</code></td>
<td>A tile_location type object holding the information about the location of the cataog. This is used to save the catalog after processing too.</td>
</tr>
</tbody>
</table>
</section>
<section id="author-2" class="level4">
<h4 class="anchored" data-anchor-id="author-2">Author</h4>
<p>Jakob Danel</p>
</section>
<section id="description-11" class="level4">
<h4 class="anchored" data-anchor-id="description-11">Description</h4>
<p>This function is needed to correct the Z value of the point cloud, relative to the real ground height. After using this function to your catalog, the Z values can be seen as the real elevation about the ground. At the moment the function uses the <code>tin()</code> function from the <code>lidr</code> package. NOTE : The operation is inplace and can not be reverted, the old values of the point cloud will be deleted!</p>
</section>
<section id="value-11" class="level4">
<h4 class="anchored" data-anchor-id="value-11">Value</h4>
<p>A catalog with the corrected z values. The catalog is always stored at tile_location and holding only the transformed values.</p>
</section>
<section id="usage-11" class="level4">
<h4 class="anchored" data-anchor-id="usage-11">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_ground_correction</span>(ctg, tile_location)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_init_data_structure" class="level3">
<h3 class="anchored" data-anchor-id="lfa_init_data_structure"><code>lfa_init_data_structure</code></h3>
<p>Initialize data structure for species and areas</p>
<section id="arguments-9" class="level4">
<h4 class="anchored" data-anchor-id="arguments-9">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>sf_species</code></td>
<td>A data frame with information about species and associated areas.</td>
</tr>
</tbody>
</table>
</section>
<section id="description-12" class="level4">
<h4 class="anchored" data-anchor-id="description-12">Description</h4>
<p>This function initializes the data structure for storing species and associated areas.</p>
</section>
<section id="details-4" class="level4">
<h4 class="anchored" data-anchor-id="details-4">Details</h4>
<p>The input data frame, <code>sf_species</code> , should have at least the following columns:</p>
<ul>
<li><p>“species”: The names of the species for which the data structure needs to be initialized.</p></li>
<li><p>“name”: The names of the associated areas.</p></li>
</ul>
<p>The function creates directories based on the species and area information provided in the <code>sf_species</code> data frame. It checks whether the directories already exist and creates them if they don’t.</p>
</section>
<section id="value-12" class="level4">
<h4 class="anchored" data-anchor-id="value-12">Value</h4>
<p>None</p>
</section>
<section id="examples-10" class="level4">
<h4 class="anchored" data-anchor-id="examples-10">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example species data frame</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>sf_species <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="at">species =</span> <span class="fu">c</span>(<span class="st">"SpeciesA"</span>, <span class="st">"SpeciesB"</span>),</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Area1"</span>, <span class="st">"Area2"</span>),</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Other necessary columns</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_init_data_structure</span>(sf_species)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Example species data frame</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>sf_species <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="at">species =</span> <span class="fu">c</span>(<span class="st">"SpeciesA"</span>, <span class="st">"SpeciesB"</span>),</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Area1"</span>, <span class="st">"Area2"</span>),</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Other necessary columns</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_init_data_structure</span>(sf_species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-12" class="level4">
<h4 class="anchored" data-anchor-id="usage-12">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_init_data_structure</span>(sf_species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_init" class="level3">
<h3 class="anchored" data-anchor-id="lfa_init"><code>lfa_init</code></h3>
<p>Initialize LFA (LiDAR forest analysis) data processing</p>
<section id="arguments-10" class="level4">
<h4 class="anchored" data-anchor-id="arguments-10">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>sf_file</code></td>
<td>A character string specifying the path to the shapefile containing spatial features of research areas.</td>
</tr>
</tbody>
</table>
</section>
<section id="description-13" class="level4">
<h4 class="anchored" data-anchor-id="description-13">Description</h4>
<p>This function initializes the LFA data processing by reading a shapefile containing spatial features of research areas, downloading the specified areas, and creating tile location objects for each area.</p>
</section>
<section id="details-5" class="level4">
<h4 class="anchored" data-anchor-id="details-5">Details</h4>
<p>This function reads a shapefile ( <code>sf_file</code> ) using the <code>sf</code> package, which should contain information about research areas. It then calls the <code>lfa_download_areas</code> function to download the specified areas and <code>lfa_create_tile_location_objects</code> to create tile location objects based on Lidar data files in those areas. The shapefile MUST follow the following requirements:</p>
<ul>
<li><p>Each geometry must be a single object of type polygon</p></li>
<li><p>Each entry must have the following attributes:</p></li>
<li><p>species: A string describing the tree species of the area.</p></li>
<li><p>name: A string describing the location of the area.</p></li>
</ul>
</section>
<section id="value-13" class="level4">
<h4 class="anchored" data-anchor-id="value-13">Value</h4>
<p>A vector containing tile location objects.</p>
</section>
<section id="examples-11" class="level4">
<h4 class="anchored" data-anchor-id="examples-11">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize LFA processing with the default shapefile</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_init</span>()</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize LFA processing with a custom shapefile</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_init</span>(<span class="st">"custom_areas.shp"</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage with the default shapefile</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_init</span>()</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage with a custom shapefile</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_init</span>(<span class="st">"custom_areas.shp"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-13" class="level4">
<h4 class="anchored" data-anchor-id="usage-13">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_init</span>(<span class="at">sf_file =</span> <span class="st">"research_areas.shp"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_intersect_areas" class="level3">
<h3 class="anchored" data-anchor-id="lfa_intersect_areas"><code>lfa_intersect_areas</code></h3>
<p>Intersect Lidar Catalog with Spatial Features</p>
<section id="arguments-11" class="level4">
<h4 class="anchored" data-anchor-id="arguments-11">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ctg</code></td>
<td>A LAScatalog object representing the Lidar data to be processed.</td>
</tr>
<tr class="even">
<td><code>tile_location</code></td>
<td>A tile location object representing the specific area of interest.</td>
</tr>
<tr class="odd">
<td><code>areas_sf</code></td>
<td>Spatial features defining areas.</td>
</tr>
</tbody>
</table>
</section>
<section id="description-14" class="level4">
<h4 class="anchored" data-anchor-id="description-14">Description</h4>
<p>This function intersects a Lidar catalog with a specific area defined by spatial features.</p>
</section>
<section id="details-6" class="level4">
<h4 class="anchored" data-anchor-id="details-6">Details</h4>
<p>The function intersects the Lidar catalog specified by <code>ctg</code> with a specific area defined by the <code>tile_location</code> object and <code>areas_sf</code> . It removes points outside the specified area and returns a modified LAScatalog object.</p>
<p>The specified area is identified based on the <code>species</code> and <code>name</code> attributes in the <code>tile_location</code> object. If a matching area is not found in <code>areas_sf</code> , the function stops with an error.</p>
<p>The function then transforms the spatial reference of the identified area to match that of the Lidar catalog using <code>sf::st_transform</code> .</p>
<p>The processing is applied to each chunk in the catalog using the <code>identify_area</code> function, which merges spatial information and filters out points that are not classified as inside the identified area. After processing, the function writes the modified LAS files back to the original file locations, removing points outside the specified area.</p>
<p>If an error occurs during the processing of a chunk, a warning is issued, and the function continues processing the next chunks. If no points are found after filtering, a warning is issued, and NULL is returned.</p>
</section>
<section id="seealso-5" class="level4">
<h4 class="anchored" data-anchor-id="seealso-5">Seealso</h4>
<p>Other functions in the Lidar forest analysis (LFA) package.</p>
</section>
<section id="value-14" class="level4">
<h4 class="anchored" data-anchor-id="value-14">Value</h4>
<p>A modified LAScatalog object with points outside the specified area removed.</p>
</section>
<section id="examples-12" class="level4">
<h4 class="anchored" data-anchor-id="examples-12">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_intersect_areas</span>(ctg, tile_location, areas_sf)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_intersect_areas</span>(ctg, tile_location, areas_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-14" class="level4">
<h4 class="anchored" data-anchor-id="usage-14">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_intersect_areas</span>(ctg, tile_location, areas_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_load_ctg_if_not_present" class="level3">
<h3 class="anchored" data-anchor-id="lfa_load_ctg_if_not_present"><code>lfa_load_ctg_if_not_present</code></h3>
<p>Loading the catalog if it is not present</p>
<section id="arguments-12" class="level4">
<h4 class="anchored" data-anchor-id="arguments-12">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ctg</code></td>
<td>Catalog object. Can be NULL</td>
</tr>
<tr class="even">
<td><code>tile_location</code></td>
<td>The location to look for the catalog tiles, if their are not present</td>
</tr>
</tbody>
</table>
</section>
<section id="description-15" class="level4">
<h4 class="anchored" data-anchor-id="description-15">Description</h4>
<p>This function checks if the catalog is <code>NULL</code> . If it is it will load the catalog from the <code>tile_location</code></p>
</section>
<section id="value-15" class="level4">
<h4 class="anchored" data-anchor-id="value-15">Value</h4>
<p>The provided ctg object if not null, else the catalog for the tiles of the tile_location.</p>
</section>
<section id="usage-15" class="level4">
<h4 class="anchored" data-anchor-id="usage-15">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_load_ctg_if_not_present</span>(ctg, tile_location)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_map_tile_locations" class="level3">
<h3 class="anchored" data-anchor-id="lfa_map_tile_locations"><code>lfa_map_tile_locations</code></h3>
<p>Map Function Over Tile Locations</p>
<section id="arguments-13" class="level4">
<h4 class="anchored" data-anchor-id="arguments-13">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>tile_locations</code></td>
<td>A list of tile location objects.</td>
</tr>
<tr class="even">
<td><code>map_function</code></td>
<td>The mapping function to be applied to each tile location.</td>
</tr>
<tr class="odd">
<td><code>...</code></td>
<td>Additional arguments to be passed to the mapping function.</td>
</tr>
</tbody>
</table>
</section>
<section id="description-16" class="level4">
<h4 class="anchored" data-anchor-id="description-16">Description</h4>
<p>This function applies a specified mapping function to each tile location in a list.</p>
</section>
<section id="details-7" class="level4">
<h4 class="anchored" data-anchor-id="details-7">Details</h4>
<p>This function iterates over each tile location in the provided list ( <code>tile_locations</code> ) and applies the specified mapping function ( <code>map_function</code> ) to each tile location. The mapping function should accept a tile location object as its first argument, and additional arguments can be passed using the ellipsis ( <code>...</code> ) syntax.</p>
<p>This function is useful for performing operations on multiple tile locations concurrently, such as loading Lidar data, processing areas, or other tasks that involve tile locations.</p>
</section>
<section id="seealso-6" class="level4">
<h4 class="anchored" data-anchor-id="seealso-6">Seealso</h4>
<p>The mapping function provided should be compatible with the structure and requirements of the tile locations and the specific task being performed.</p>
</section>
<section id="value-16" class="level4">
<h4 class="anchored" data-anchor-id="value-16">Value</h4>
<p>None</p>
</section>
<section id="examples-13" class="level4">
<h4 class="anchored" data-anchor-id="examples-13">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_map_tile_locations</span>(tile_locations, my_mapping_function, <span class="at">param1 =</span> <span class="st">"value"</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_map_tile_locations</span>(tile_locations, my_mapping_function, <span class="at">param1 =</span> <span class="st">"value"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-16" class="level4">
<h4 class="anchored" data-anchor-id="usage-16">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_map_tile_locations</span>(tile_locations, map_function, <span class="at">check_flag =</span> <span class="cn">NULL</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_merge_and_save" class="level3">
<h3 class="anchored" data-anchor-id="lfa_merge_and_save"><code>lfa_merge_and_save</code></h3>
<p>Merge and Save Text Files in a Directory</p>
<section id="arguments-14" class="level4">
<h4 class="anchored" data-anchor-id="arguments-14">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>input_directory</code></td>
<td>The path to the input directory containing text files.</td>
</tr>
<tr class="even">
<td><code>output_name</code></td>
<td>The name for the output file where the merged content will be saved.</td>
</tr>
</tbody>
</table>
</section>
<section id="description-17" class="level4">
<h4 class="anchored" data-anchor-id="description-17">Description</h4>
<p>This function takes an input directory and an output name as arguments. It merges the textual content of all files in the specified directory into a single string, with each file’s content separated by a newline character. The merged content is then saved into a file named after the output name in the same directory. After the merging is complete, all input files are deleted.</p>
</section>
<section id="details-8" class="level4">
<h4 class="anchored" data-anchor-id="details-8">Details</h4>
<p>This function reads the content of each text file in the specified input directory and concatenates them into a single string. Each file’s content is separated by a newline character. The merged content is then saved into a file named after the output name in the same directory. Finally, all input files are deleted from the directory.</p>
</section>
<section id="seealso-7" class="level4">
<h4 class="anchored" data-anchor-id="seealso-7">Seealso</h4>
<p><a href="#readlines"><code>readLines</code></a> , <a href="#writelines"><code>writeLines</code></a> , <a href="#file.remove"><code>file.remove</code></a></p>
</section>
<section id="value-17" class="level4">
<h4 class="anchored" data-anchor-id="value-17">Value</h4>
<p>This function does not explicitly return any value. It prints a message indicating the successful completion of the merging and saving process.</p>
</section>
<section id="examples-14" class="level4">
<h4 class="anchored" data-anchor-id="examples-14">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge text files in the "data_files" directory and save the result in "merged_output"</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_merge_and_save</span>(<span class="st">"data_files"</span>, <span class="st">"merged_output"</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge text files in the "data_files" directory and save the result in "merged_output"</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_merge_and_save</span>(<span class="st">"data_files"</span>, <span class="st">"merged_output"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-17" class="level4">
<h4 class="anchored" data-anchor-id="usage-17">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_merge_and_save</span>(input_directory, output_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_rd_to_qmd" class="level3">
<h3 class="anchored" data-anchor-id="lfa_rd_to_qmd"><code>lfa_rd_to_qmd</code></h3>
<p>Convert Rd File to Markdown</p>
<section id="arguments-15" class="level4">
<h4 class="anchored" data-anchor-id="arguments-15">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>rdfile</code></td>
<td>The path to the Rd file or a parsed Rd object.</td>
</tr>
<tr class="even">
<td><code>outfile</code></td>
<td>The path to the output Markdown file (including the file extension).</td>
</tr>
<tr class="odd">
<td><code>append</code></td>
<td>Logical, indicating whether to append to an existing file (default is FALSE).</td>
</tr>
</tbody>
</table>
</section>
<section id="description-18" class="level4">
<h4 class="anchored" data-anchor-id="description-18">Description</h4>
<p>IMPORTANT NOTE: This function is nearly identical to the <code>Rd2md::Rd2markdown</code> function from the <code>Rd2md</code> package. We needed to implement our own version of it because of various reasons:</p>
<ul>
<li><p>The algorithm uses hardcoded header sizes (h1 and h2 in original) which is not feasible for our use-case of the markdown.</p></li>
<li><p>We needed to add some Quarto Markdown specifics, e.g.&nbsp;to make sure that the examples will not be runned.</p></li>
<li><p>We want to exclude certain tags from our implementation.</p></li>
</ul>
</section>
<section id="details-9" class="level4">
<h4 class="anchored" data-anchor-id="details-9">Details</h4>
<p>For that reason we copied the method and made changes as needed and also added this custom documentation.</p>
<p>This function converts an Rd (R documentation) file to Markdown format (.md) and saves the converted file at the specified location. The function allows appending to an existing file or creating a new one. The resulting Markdown file includes sections for the function’s name, title, and additional content such as examples, usage, arguments, and other sections present in the Rd file.</p>
<p>The function performs the following steps:</p>
<ul>
<li><p>Parses the Rd file using the Rd2md package.</p></li>
<li><p>Creates a Markdown file with sections for the function’s name, title, and additional content.</p></li>
<li><p>Appends the content to an existing file if <code>append</code> is set to TRUE.</p></li>
<li><p>Saves the resulting Markdown file at the specified location.</p></li>
</ul>
</section>
<section id="seealso-8" class="level4">
<h4 class="anchored" data-anchor-id="seealso-8">Seealso</h4>
<p><a href="#rd2md::parserd"><code>Rd2md::parseRd</code></a></p>
</section>
<section id="value-18" class="level4">
<h4 class="anchored" data-anchor-id="value-18">Value</h4>
<p>This function does not explicitly return any value. It saves the converted Markdown file at the specified location as described in the details section.</p>
</section>
<section id="examples-15" class="level4">
<h4 class="anchored" data-anchor-id="examples-15">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert Rd file to Markdown and save it</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_rd_to_md</span>(<span class="st">"path/to/your/file.Rd"</span>, <span class="st">"path/to/your/output/file.md"</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert Rd file to Markdown and append to an existing file</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_rd_to_md</span>(<span class="st">"path/to/your/file.Rd"</span>, <span class="st">"path/to/existing/output/file.md"</span>, <span class="at">append =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-18" class="level4">
<h4 class="anchored" data-anchor-id="usage-18">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_rd_to_qmd</span>(rdfile, outfile, <span class="at">append =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_rd_to_results" class="level3">
<h3 class="anchored" data-anchor-id="lfa_rd_to_results"><code>lfa_rd_to_results</code></h3>
<p>Convert Rd Files to Markdown and Merge Results</p>
<section id="description-19" class="level4">
<h4 class="anchored" data-anchor-id="description-19">Description</h4>
<p>This function converts all Rd (R documentation) files in the “man” directory to Markdown format (.qmd) and saves the converted files in the “results/appendix/package-docs” directory. It then merges the converted Markdown files into a single string and saves the merged content into a file named “docs.qmd” in the “results/appendix/package-docs” directory.</p>
</section>
<section id="details-10" class="level4">
<h4 class="anchored" data-anchor-id="details-10">Details</h4>
<p>The function performs the following steps:</p>
<ul>
<li><p>Removes any existing “docs.qmd” file in the “results/appendix/package-docs” directory.</p></li>
<li><p>Finds all Rd files in the “man” directory.</p></li>
<li><p>Converts each Rd file to Markdown format (.qmd) using the <code>lfa_rd_to_qmd</code> function.</p></li>
<li><p>Saves the converted Markdown files in the “results/appendix/package-docs” directory.</p></li>
<li><p>Merges the content of all converted Markdown files into a single string.</p></li>
<li><p>Saves the merged content into a file named “docs.qmd” in the “results/appendix/package-docs” directory.</p></li>
</ul>
</section>
<section id="seealso-9" class="level4">
<h4 class="anchored" data-anchor-id="seealso-9">Seealso</h4>
<p><a href="#lfardtoqmd"><code>lfa_rd_to_qmd</code></a> , <a href="#lfamergeandsave"><code>lfa_merge_and_save</code></a></p>
</section>
<section id="value-19" class="level4">
<h4 class="anchored" data-anchor-id="value-19">Value</h4>
<p>This function does not explicitly return any value. It performs the conversion, merging, and saving operations as described in the details section.</p>
</section>
<section id="examples-16" class="level4">
<h4 class="anchored" data-anchor-id="examples-16">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert Rd files to Markdown and merge the results</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_rd_to_results</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-19" class="level4">
<h4 class="anchored" data-anchor-id="usage-19">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_rd_to_results</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_segmentation" class="level3">
<h3 class="anchored" data-anchor-id="lfa_segmentation"><code>lfa_segmentation</code></h3>
<p>Segment the elements of an point cloud by trees</p>
<section id="arguments-16" class="level4">
<h4 class="anchored" data-anchor-id="arguments-16">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ctg</code></td>
<td>An LASCatalog object. If not null, it will perform the actions on this object, if NULL inferring the catalog from the tile_location</td>
</tr>
<tr class="even">
<td><code>tile_location</code></td>
<td>A tile_location type object holding the information about the location of the catalog. This is used to save the catalog after processing too.</td>
</tr>
</tbody>
</table>
</section>
<section id="author-3" class="level4">
<h4 class="anchored" data-anchor-id="author-3">Author</h4>
<p>Jakob Danel</p>
</section>
<section id="description-20" class="level4">
<h4 class="anchored" data-anchor-id="description-20">Description</h4>
<p>This function will try to to divide the hole point cloud into unique trees. Therefore it is assigning for each chunk of the catalog a <code>treeID</code> for each point. Therefore the algorithm uses the <code>li2012</code> implementation with the following parameters: <code>li2012(dt1 = 2, dt2 = 3, R = 2, Zu = 10, hmin = 5, speed_up = 12)</code> NOTE : The operation is in place and can not be reverted, the old values of the point cloud will be deleted!</p>
</section>
<section id="value-20" class="level4">
<h4 class="anchored" data-anchor-id="value-20">Value</h4>
<p>A catalog where each chunk has additional <code>treeID</code> values indicating the belonging tree.</p>
</section>
<section id="usage-20" class="level4">
<h4 class="anchored" data-anchor-id="usage-20">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_segmentation</span>(ctg, tile_location)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="lfa_set_flag" class="level3">
<h3 class="anchored" data-anchor-id="lfa_set_flag"><code>lfa_set_flag</code></h3>
<p>Set a flag to indicate the completion of a specific process.</p>
<section id="arguments-17" class="level4">
<h4 class="anchored" data-anchor-id="arguments-17">Arguments</h4>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>flag_name</code></td>
<td>A character string specifying the name of the flag file. It should be a descriptive and unique identifier for the process being flagged.</td>
</tr>
</tbody>
</table>
</section>
<section id="description-21" class="level4">
<h4 class="anchored" data-anchor-id="description-21">Description</h4>
<p>This function creates a hidden flag file at a specified location within the working directory to indicate that a particular processing step has been completed. If the flag file already exists, a warning is issued.</p>
</section>
<section id="value-21" class="level4">
<h4 class="anchored" data-anchor-id="value-21">Value</h4>
<p>This function does not have a formal return value.</p>
</section>
<section id="examples-17" class="level4">
<h4 class="anchored" data-anchor-id="examples-17">Examples</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the flag for a process named "data_processing"</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_set_flag</span>(<span class="st">"data_processing"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="usage-21" class="level4">
<h4 class="anchored" data-anchor-id="usage-21">Usage</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lfa_set_flag</span>(flag_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>